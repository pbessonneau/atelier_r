\documentclass{beamer}\usepackage[]{graphicx}\usepackage[]{color}
%% maxwidth is the original width if it is less than linewidth
%% otherwise use linewidth (to make sure the graphics do not exceed the margin)
\makeatletter
\def\maxwidth{ %
  \ifdim\Gin@nat@width>\linewidth
    \linewidth
  \else
    \Gin@nat@width
  \fi
}
\makeatother

\definecolor{fgcolor}{rgb}{0.345, 0.345, 0.345}
\newcommand{\hlnum}[1]{\textcolor[rgb]{0.686,0.059,0.569}{#1}}%
\newcommand{\hlstr}[1]{\textcolor[rgb]{0.192,0.494,0.8}{#1}}%
\newcommand{\hlcom}[1]{\textcolor[rgb]{0.678,0.584,0.686}{\textit{#1}}}%
\newcommand{\hlopt}[1]{\textcolor[rgb]{0,0,0}{#1}}%
\newcommand{\hlstd}[1]{\textcolor[rgb]{0.345,0.345,0.345}{#1}}%
\newcommand{\hlkwa}[1]{\textcolor[rgb]{0.161,0.373,0.58}{\textbf{#1}}}%
\newcommand{\hlkwb}[1]{\textcolor[rgb]{0.69,0.353,0.396}{#1}}%
\newcommand{\hlkwc}[1]{\textcolor[rgb]{0.333,0.667,0.333}{#1}}%
\newcommand{\hlkwd}[1]{\textcolor[rgb]{0.737,0.353,0.396}{\textbf{#1}}}%

\usepackage{framed}
\makeatletter
\newenvironment{kframe}{%
 \def\at@end@of@kframe{}%
 \ifinner\ifhmode%
  \def\at@end@of@kframe{\end{minipage}}%
  \begin{minipage}{\columnwidth}%
 \fi\fi%
 \def\FrameCommand##1{\hskip\@totalleftmargin \hskip-\fboxsep
 \colorbox{shadecolor}{##1}\hskip-\fboxsep
     % There is no \\@totalrightmargin, so:
     \hskip-\linewidth \hskip-\@totalleftmargin \hskip\columnwidth}%
 \MakeFramed {\advance\hsize-\width
   \@totalleftmargin\z@ \linewidth\hsize
   \@setminipage}}%
 {\par\unskip\endMakeFramed%
 \at@end@of@kframe}
\makeatother

\definecolor{shadecolor}{rgb}{.97, .97, .97}
\definecolor{messagecolor}{rgb}{0, 0, 0}
\definecolor{warningcolor}{rgb}{1, 0, 1}
\definecolor{errorcolor}{rgb}{1, 0, 0}
\newenvironment{knitrout}{}{} % an empty environment to be redefined in TeX

\usepackage{alltt}
\usetheme[compress]{Singapore}
\useoutertheme{miniframes}

% \documentclass{beamer}
%\usetheme{Warsaw}

% Pour les documents en francais...
	\usepackage[latin1]{inputenc}
	\usepackage[french]{babel}
	\usepackage[french]{varioref}

% Math?matiques
	\usepackage{amsmath}

% Caracteres speciaux suppl?mentaires
	\usepackage{latexsym,amsfonts}

% A documenter
	\usepackage{moreverb}

% Macros pour les paquets
	\usepackage{array}  			% N?cessaires pour les tableaux de la macro Excel.

% Outil suppl?mentaire pour les tableaux
	\usepackage{multirow}
	\usepackage{booktabs}
	\usepackage{xcolor} % alternating row colors in table, incompatible avec certains modules
	\usepackage{longtable}
	\usepackage{colortbl}

% Pour ins?rer des graphiques
	\usepackage{graphicx} 			% Graphique simples
	\usepackage{subfigure}			% Graphiques multiples

% Pour ins?rer des couleurs
	\usepackage{color}

% Rotation des objets et des pages
%	\usepackage{rotating}
%	\usepackage{lscape}

% Pour insrer du code source, LaTeX ou SAS par exemple.
	\usepackage{verbatim}
        \usepackage{moreverb}
	\usepackage{listings}
	\usepackage{fancyvrb}

%	\lstset{language=SAS,numbers=left}		% Par dfaut le listing est en SAS

% Pour ins?rer des hyperliens
  \usepackage{hyperref}

% American Psychological Association (for bibliographic references).
	\usepackage{apacite}

% Pour l'utilisation des macros
	\usepackage{xspace}

% Pour l'utilisation de notes en fin de document.
%	\usepackage{endnotes}

% Array
%	\usepackage{multirow}
%	\usepackage{booktabs}

% Rotation
%	\usepackage{rotating}

% En t?tes et pieds de pages
%	\usepackage{fancyhdr}
%	\usepackage{lastpage}


% Page layout

% By LaTeX commands
%\setlength{\oddsidemargin}{0cm}
%\setlength{\textwidth}{16cm}
%\setlength{\textheight}{24cm}
%\setlength{\topmargin}{-1cm}
%\setlength{\marginparsep}{0.2cm}

% fancyheader parameters
%\pagestyle{fancy}

%\fancyfoot[L]{{\small Formation \LaTeX, DEPP}}
%\fancyfoot[c]{}
%\fancyfoot[R]{{\small \thepage/\pageref{LastPage}}}

%\fancyhead[L]{}
%\fancyhead[c]{}
%\fancyhead[R]{}

% Pour ins?rer des dessins de Linux
\newcommand{\LinuxA}{\includegraphics[height=0.5cm]{Graphiques/linux.png}}
\newcommand{\LinuxB}{\includegraphics[height=0.5cm]{Graphiques/linux.png}\xspace}

% Macro pour les petits dessins pour les diff?rents OS.
\newcommand{\Windows}{\emph{Windows}\xspace}
\newcommand{\Mac}{\emph{Mac OS X}\xspace}
\newcommand{\Linux}{\emph{Linux}\xspace}
\newcommand{\MikTeX}{MiK\tex\xspace}
\newcommand{\latex}{\LaTeX\xspace}


\newcommand{\df}{\emph{data.frame}\xspace}
\newcommand{\liste}{\emph{list}\xspace}
\newcommand{\cad}{c'est-à-dire\xspace}

% Titre
\title{Introduction à R}
\author{Pascal Bessonneau}
%\institute{DEPP}
\date{06/2015}
\subtitle{Les premières données}


\newcommand{\hreff}[2]{\underline{\href{#1}{#2}\xspace}}



\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\begin{document}

\begin{frame}
	\maketitle
\end{frame}

\begin{frame}
	\tableofcontents
\end{frame}

\section{Les iris de Fisher}

\begin{frame}[containsverbatim]
  \frametitle{Les iris de Fisher}

  Les iris de Fisher sont des données très connues dans le milieu des statisticiens.
  
  Ils consituent un jeu de données sur lesquelles on utilise des méthodes de 
  classification notamment.
  
  Ce sont les caractéristiques morphologiques des feuilles pour quelques espèces
  d'Iris.
  
\end{frame}


\begin{frame}[containsverbatim]
  \frametitle{Les iris de Fisher}

  
\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{> }\hlkwd{data}\hlstd{(iris)}
\hlstd{> }\hlkwd{class}\hlstd{(iris)}
\end{alltt}
\begin{verbatim}
## [1] "data.frame"
\end{verbatim}
\end{kframe}
\end{knitrout}

\end{frame}


\begin{frame}[containsverbatim]
  \frametitle{Les iris de Fisher}

\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{> }\hlkwd{summary}\hlstd{(iris)}
\end{alltt}
\begin{verbatim}
##   Sepal.Length    Sepal.Width   
##  Min.   :4.300   Min.   :2.000  
##  1st Qu.:5.100   1st Qu.:2.800  
##  Median :5.800   Median :3.000  
##  Mean   :5.843   Mean   :3.057  
##  3rd Qu.:6.400   3rd Qu.:3.300  
##  Max.   :7.900   Max.   :4.400  
##   Petal.Length    Petal.Width   
##  Min.   :1.000   Min.   :0.100  
##  1st Qu.:1.600   1st Qu.:0.300  
##  Median :4.350   Median :1.300  
##  Mean   :3.758   Mean   :1.199  
##  3rd Qu.:5.100   3rd Qu.:1.800  
##  Max.   :6.900   Max.   :2.500  
##        Species  
##  setosa    :50  
##  versicolor:50  
##  virginica :50  
##                 
##                 
## 
\end{verbatim}
\end{kframe}
\end{knitrout}

\end{frame}

\begin{frame}[containsverbatim]
  \frametitle{Les iris de Fisher}

\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{> }\hlkwd{table}\hlstd{(iris}\hlopt{$}\hlstd{Species)}
\end{alltt}
\begin{verbatim}
## 
##     setosa versicolor  virginica 
##         50         50         50
\end{verbatim}
\begin{alltt}
\hlstd{> }\hlkwd{prop.table}\hlstd{(}\hlkwd{table}\hlstd{(iris}\hlopt{$}\hlstd{Species))}
\end{alltt}
\begin{verbatim}
## 
##     setosa versicolor  virginica 
##  0.3333333  0.3333333  0.3333333
\end{verbatim}
\begin{alltt}
\hlstd{> }\hlkwd{prop.table}\hlstd{(}\hlkwd{table}\hlstd{(iris}\hlopt{$}\hlstd{Species))}\hlopt{*}\hlnum{100}
\end{alltt}
\begin{verbatim}
## 
##     setosa versicolor  virginica 
##   33.33333   33.33333   33.33333
\end{verbatim}
\end{kframe}
\end{knitrout}

\end{frame}


\begin{frame}[containsverbatim]
  \frametitle{Les iris de Fisher}

\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{> }\hlkwd{tapply}\hlstd{(iris}\hlopt{$}\hlstd{Sepal.Length,iris}\hlopt{$}\hlstd{Species,mean)}
\end{alltt}
\begin{verbatim}
##     setosa versicolor  virginica 
##      5.006      5.936      6.588
\end{verbatim}
\end{kframe}
\end{knitrout}

\end{frame}

\section{Les prénoms}

\begin{frame}[containsverbatim]
  \frametitle{Les prénoms à Paris}

  Ce sont les prénoms des nouveaux nés à Paris. Ils viennent de 
  \href{http://opendata.paris.fr/explore/dataset/liste_des_prenoms_2004_a_2012/information/?disjunctive.prenoms&disjunctive.annee}{opendata.paris.fr}.
  
  Le but ici est de manipuler et d'extraire les données. 
  
\end{frame}

\begin{frame}[containsverbatim]
  \frametitle{Les prénoms à Paris}

Pour charger le fichier~:

\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{> }\hlstd{prenoms} \hlkwb{<-} \hlkwd{read.csv2}\hlstd{(}\hlstr{"data/prenoms/liste_des_prenoms_2004_a_2012.csv"}\hlstd{,}
\hlstd{+ }                     \hlkwc{stringsAsFactors} \hlstd{= F,}\hlkwc{encoding} \hlstd{=} \hlstr{"UTF-8"}\hlstd{)}
\hlstd{> }\hlstd{p} \hlkwb{<-} \hlkwd{fromJSON}\hlstd{(}\hlstr{"data/prenoms/liste_des_prenoms_2004_a_2012.json"}\hlstd{)}\hlopt{$}\hlstd{fields}
\hlstd{> }
\hlstd{> }\hlkwd{colnames}\hlstd{(prenoms)}
\end{alltt}
\begin{verbatim}
## [1] "Prenoms" "Nombre"  "Sexe"    "Annee"
\end{verbatim}
\end{kframe}
\end{knitrout}
  
\end{frame}

\begin{frame}[containsverbatim]
  \frametitle{Les prénoms à Paris}

Pour récupérer les prénoms de 2004~:

\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{> }\hlstd{prenoms2004} \hlkwb{<-} \hlstd{prenoms[prenoms}\hlopt{$}\hlstd{Annee}\hlopt{==}\hlnum{2004}\hlstd{,]}
\end{alltt}
\end{kframe}
\end{knitrout}
  
\end{frame}



\begin{frame}[containsverbatim]
  \frametitle{Les prénoms à Paris}

Quel est le prénom le plus fréquent ?

\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{> }\hlkwd{max}\hlstd{(prenoms}\hlopt{$}\hlstd{Nombre)}
\end{alltt}
\begin{verbatim}
## [1] 398
\end{verbatim}
\begin{alltt}
\hlstd{> }\hlstd{prenoms2004}\hlopt{$}\hlstd{Prenoms[prenoms2004}\hlopt{$}\hlstd{Nombre} \hlopt{==} \hlkwd{max}\hlstd{(prenoms2004}\hlopt{$}\hlstd{Nombre)]}
\end{alltt}
\begin{verbatim}
## [1] "Alexandre"
\end{verbatim}
\end{kframe}
\end{knitrout}
  
\end{frame}

\begin{frame}[containsverbatim]
  \frametitle{Les prénoms à Paris}

Quel est le prénom le moins fréquent ?

\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{> }\hlstd{prenoms2004}\hlopt{$}\hlstd{Prenoms[prenoms2004}\hlopt{$}\hlstd{Nombre} \hlopt{==} \hlkwd{min}\hlstd{(prenoms2004}\hlopt{$}\hlstd{Nombre)]}
\end{alltt}
\end{kframe}
\end{knitrout}

\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{verbatim}
##   [1] "Khalil"     "Leana"      "Loubna"    
##   [4] "Morgan"     "Natalia"    "Oussama"   
##   [7] "Safa"       "Sharon"     "Solenn"    
##  [10] "Sylvia"     "Viktor"     "Virgil"    
##  [13] "Wandrille"  "Warren"     "Alexane"   
##  [16] NA           "Camelia"    "Carl"      
##  [19] "Chanel"     "Filipe"     "Halima"    
##  [22] "Henry"      "Iban"       "Jawad"     
##  [25] "Josh"       "Adil"       "Bahia"     
##  [28] "Boubou"     "Clothilde"  "Dana"      
##  [31] "Daria"      "Gabriella"  "Harold"    
##  [34] "Hasna"      NA           "Latifa"    
##  [37] "Louka"      "Mory"       "Nesrine"   
##  [40] "Niouma"     "Rami"       "Ramy"      
##  [43] "Reda"       "Sebastian"  "Tim"       
##  [46] "Wendy"      NA           "Aboubakar" 
##  [49] "Adeline"    "Aymane"     "Benoit"    
##  [52] "Betty"      "Brune"      NA          
##  [55] "Colette"    "Cyriaque"   "Djeneba"   
##  [58] "Doriane"    "Elio"       "Germain"   
##  [61] "Guy"        "Ian"        "Idris"     
##  [64] "Ilyass"     "Khady"      "Nayla"     
##  [67] "Patricia"   "Sadio"      "Sylvain"   
##  [70] "Vladimir"   "Yanni"      "Khadija"   
##  [73] "Lamine"     "Lirone"     "Liza"      
##  [76] "Manuel"     "Naya"       "Nikita"    
##  [79] "Olympe"     "Perle"      "Solveig"   
##  [82] "Terence"    "Wilfried"   "Yossef"    
##  [85] NA           "Albert"     "Alissa"    
##  [88] "Aris"       "Calvin"     "Abdellah"  
##  [91] "Amara"      "Harry"      "Amelia"    
##  [94] "Athena"     "Brayan"     "Chelsea"   
##  [97] "Elena"      "Eliane"     "Elya"      
## [100] "Emy"        "Florence"   "Gad"       
## [103] NA           "Joey"       "Kadidiatou"
## [106] "Luce"       "Mahe"       "Meline"    
## [109] "Nael"       "Odelia"     "Oren"      
## [112] "Paco"       "Satine"     "Tao"       
## [115] NA
\end{verbatim}
\end{kframe}
\end{knitrout}
  
\end{frame}


\begin{frame}[containsverbatim]
  \frametitle{Les prénoms à Paris}

Quel est le minimum ?
\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{> }\hlkwd{min}\hlstd{(prenoms2004}\hlopt{$}\hlstd{Nombre)}
\end{alltt}
\begin{verbatim}
## [1] 6
\end{verbatim}
\end{kframe}
\end{knitrout}
  
\end{frame}

\begin{frame}[containsverbatim]
  \frametitle{Les prénoms à Paris}

Choisissez un prénom et trouver le nombre correspondants~:
\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{> }\hlstd{prenoms2004}\hlopt{$}\hlstd{Nombre[prenoms2004}\hlopt{$}\hlstd{Prenoms}\hlopt{==}\hlstr{"Pascal"}\hlstd{]}
\end{alltt}
\begin{verbatim}
## [1] 11
\end{verbatim}
\end{kframe}
\end{knitrout}
  
\end{frame}

\begin{frame}[containsverbatim]
  \frametitle{Les prénoms à Paris}

  Trouver le prénoms qui ont disparus entre ces années. Cela revient à
  faire une table et à chercher les prénoms qui apparaissent moins de 8 fois.
  
\end{frame}

\begin{frame}[containsverbatim]
  \frametitle{Les prénoms à Paris}

\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{> }\hlstd{tt} \hlkwb{<-} \hlkwd{table}\hlstd{(prenoms}\hlopt{$}\hlstd{Prenoms)}
\hlstd{> }\hlkwd{range}\hlstd{(tt)}
\end{alltt}
\begin{verbatim}
## [1]  1 26
\end{verbatim}
\end{kframe}
\end{knitrout}

\end{frame}

\begin{frame}[containsverbatim]
  \frametitle{Les prénoms à Paris}

  Oups y'a une petit problème dans la base de données.

\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{> }\hlkwd{range}\hlstd{(prenoms}\hlopt{$}\hlstd{Annee)}
\end{alltt}
\begin{verbatim}
## [1] 2004 2015
\end{verbatim}
\begin{alltt}
\hlstd{> }\hlkwd{head}\hlstd{(}\hlkwd{names}\hlstd{(tt)[tt}\hlopt{>}\hlnum{12}\hlstd{])}
\end{alltt}
\begin{verbatim}
## [1] "Adama"    "Alix"     "Amelia"  
## [4] "Andrea"   "Ange"     "Angelina"
\end{verbatim}
\end{kframe}
\end{knitrout}

\end{frame}

\begin{frame}[containsverbatim]
  \frametitle{Les prénoms à Paris}

  Oups y'a une petit problème dans la base de données.

\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{> }\hlstd{pp} \hlkwb{<-} \hlkwd{names}\hlstd{(tt)[tt}\hlopt{>}\hlnum{12}\hlstd{]}
\hlstd{> }\hlstd{prenoms_prb} \hlkwb{<-} \hlstd{prenoms[prenoms}\hlopt{$}\hlstd{Prenoms} \hlopt{%in%} \hlstd{pp,]}
\hlstd{> }\hlkwd{head}\hlstd{(prenoms_prb[}\hlkwd{order}\hlstd{(prenoms_prb}\hlopt{$}\hlstd{Prenoms),])}
\end{alltt}
\begin{verbatim}
##      Prenoms Nombre Sexe Annee
## 1268   Adama      5    F  2014
## 2188   Adama     17    M  2008
## 3320   Adama     18    M  2004
## 4817   Adama     15    M  2011
## 5884   Adama      5    M  2012
## 5952   Adama     13    M  2012
\end{verbatim}
\end{kframe}
\end{knitrout}

\end{frame}

\begin{frame}[containsverbatim]
  \frametitle{Les prénoms à Paris}

\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{> }\hlkwd{head}\hlstd{(}\hlkwd{table}\hlstd{(prenoms_prb}\hlopt{$}\hlstd{Prenoms,prenoms_prb}\hlopt{$}\hlstd{Annee))}
\end{alltt}
\begin{verbatim}
##           
##            2004 2005 2006 2007 2008 2009
##   Adama       1    1    1    1    1    1
##   Alix        1    1    1    1    1    1
##   Amelia      1    1    1    2    0    1
##   Andrea      2    2    2    2    2    2
##   Ange        1    1    1    1    1    1
##   Angelina    2    2    2    2    2    1
##           
##            2010 2011 2012 2013 2014 2015
##   Adama       1    1    2    1    2    2
##   Alix        1    2    2    2    2    2
##   Amelia      2    2    2    1    0    1
##   Andrea      2    3    3    2    2    2
##   Ange        1    1    1    2    2    2
##   Angelina    1    2    1    1    1    1
\end{verbatim}
\end{kframe}
\end{knitrout}

\end{frame}

\begin{frame}[containsverbatim]
  \frametitle{Les prénoms à Paris}

\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{> }\hlstd{prenoms_prb[prenoms_prb}\hlopt{$}\hlstd{Prenoms}\hlopt{==}\hlstr{"Andrea"} \hlopt{&} \hlstd{prenoms_prb}\hlopt{$}\hlstd{Annee} \hlopt{==} \hlnum{2012}\hlstd{,]}
\end{alltt}
\begin{verbatim}
##      Prenoms Nombre Sexe Annee
## 6307  Andrea     16    F  2012
## 6308  Andrea     35    F  2012
## 6309  Andrea     11    F  2012
\end{verbatim}
\end{kframe}
\end{knitrout}

\end{frame}

\end{document}
