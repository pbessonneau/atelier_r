\section{Les premiers pas avec RStudio}

  \subsection{Présentation générale}
  
  RStudio est né il y a quelques années et est le
  compagnon indispensable de R depuis deux ans environ. 
  
  Son interface est beaucoup plus attrayante et rappelle beaucoup l'interface
  d'autres logiciels de statistiques (SAS par exemple).
  
  En outre elle a de nombreux avantages~: apporte un meilleur confort de 
  programmation R, une meilleure interface 
  Sweave/knitr, facilite la programmation mixte R/C++, etc.
  

  
  RStudio est une société commerciale qui contribue largement au développement du  
  logiciel libre R et paquets avec, dans son équipe, de grands noms de R comme 
  Hadley Wickham (ggplot2, reshape2, plyr, ddplyr).
  
  Elle vit de licences commerciales~: ses logiciels ont tous une version gratuite
  et une version payante~:
  
  \begin{itemize}
    \item RStudio Desktop~: c'est une interface conviviale de développement R
    \item RStudio Server~: c'est un serveur dont l'interface est identique 
    à RStudio Desktop mais dont les commandes sont exécutées sur un serveur via
    un navigateur
  \end{itemize}
  


  \subsection{Présentation générale de R-Studio}
  
  L'espace est divisé en quatre fenêtres~: 
  \begin{itemize}
  \item l'éditeur de scripts (en haut à gauche)
  \item le contenu de la mémoire ou l'historique des commandes (en haut à droite)
  \item la console R (en bas à gauche)
  \item une fenêtre contenant l'aide ou les graphiques ou l'explorateur de 
  fichiers (en bas à droite)
  \end{itemize}
  
  

  \subsection{Présentation générale}
  
  \scalebox{0.16}{
  \includegraphics{graphiques/fenetres}
  }
  


  
  Comme vous l'avez remarqué dans chaque fenêtre, on passe d'une tâche à l'autre
  en utilisant 	\textbf{les onglets}~: par exemple pour passer de l'explorateur de 
  fichiers aux graphiques ou à l'aide (respectivement les onglets Files, 
  Plots et Help).
  
  Vous utiliserez essentiellement l'éditeur en haut à gauche.
  
  Nous donnons également les raccourcis-claviers car ils peuvent être très pratiques.
  

  \subsection{Le fonctionnement}
  
  Tout en R est basé sur la ligne de commande (historiquement R se présente
  comme un shell).
  
  Dans RStudio vous tapez les commandes dans l'éditeur puis vous les soumettez
  à R en utilisant le bouton \emph{Run} en haut au milieu (ou en 
  utilisant CTRL+ENTREE).
  
  Par défaut \emph{Run} ou CTRL+ENTREE soumettent la ligne sur laquelle se 
  trouve le curseur ou une sélection du script.
  

  
  Quand vous créez un graphique ou que vous demandez de l'aide alors l'onglet
  correspondant se met en avant tout seul en bas à droite.
  
  Dans R, tout est en mémoire vive (ou presque). En débutant tout les objets
  que vous manipulez ou que vous créez apparaissent dans la fenêtre en haut à
  droite~: c'est (presque) tout le contenu de la mémoire.
  
  Quand cet objet est une \emph{data.frame} vous pouvez cliquer pour 
  les visualiser (un peu comme dans un tableur). 
  
  Attention, même s'il est possible d'éditer ces données c'est une opération à 
  proscrire.
  

\section{Les différentes fenêtres}

  \subsection{L'éditeur (en haut à gauche)}
  
  Par défaut l'éditeur est en mode \emph{Script R}. Par conséquent il va 
  essayer d'interpréter le contenu de la fenêtre pour vous aider en vous 
  proposant les variables disponibles, les fonctions, etc.
  
  La complétion se fait avec la touche \emph{TAB}. 
  

  
  \textcolor{red}{ATTENTION} comme il essaie d'interpréter ce que vous écrivez
  il peut ralentir voire boguer quand vous prenez des notes dans l'éditeur.
  
  Vous pouvez prendre des notes à condition de les mettre en commentaires. Pour
  cela commencer la ligne avec un \emph{\#}.
  
  Une solution facile est de taper vos notes, de sélectionner le texte et de le
  mettre en commentaire en utilisant \emph{CTRL+SHIFT+C} (ou dans le menu 
  \emph{Code}). 
  
  Vous pouvez aussi créer et éditer des fichiers texte dans RStudio.
  

  
  Les raccourcis-claviers les plus courants ~: 
  
  \begin{description}
    \item [CTRL+ENTREE] soumets la ligne ou la sélection à la console R
    \item [CTRL+SHIFT+C] passer le contenu de script à commentaire ou l'inverse
    \item [CTRL+SHIFT+A] pour indenter le code sélectionné comme un pro
    \item [CTRL+1] rend active la fenêtre éditeur
    \item [CTRL+2] rend active la fenêtre console
  \end{description}
  
  Un cheatsheet est disponible sur le site de \href{http://www.rstudio.com/wp-content/uploads/2016/01/rstudio-IDE-cheatsheet.pdf}{RStudio}.


  \subsection{La fenêtre de l'environnement global (en haut à droite)}
  
  Vous trouverez dans la fenêtre de l'évnirionnement globale la liste des objets 
  que vous avez créés ou chargés en mémoire. Vous y trouvez ce qu'une commande 
  \emph{ls()} retourne.
  
  Si ce sont des \emph{data.frame} vous pouvez cliquer dessus pour ouvrir
  une vue "tableur". Seules les premières observations (et colonnes) sont visibles.
  


  \subsection{La console R}
  
  Vous pouvez y taper directement les commandes qui seront interprétés par R. 
  
  Vous pouvez aussi voir dans cette fenêtre si il y a une erreur ou un message
  suite au code tapé ou au code soumis via l'éditeur. C'est dans cette fenêtre que vous retrouverez 
  l'équivalent de la \emph{log} sous SAS.
  
  Vous avez accès à l'historique des commandes avec la flèche \emph{en haut}.
  

  \subsection{La fenêtre multi-tâches (en bas à droite)}
  
  Vous y trouvez l'aide, les graphiques, la gestion des paquets selon l'onglet
  que vous choisissez. A essayer~:
  
\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{> }\hlopt{?}\hlstd{rnorm}
\end{alltt}
\end{kframe}
\end{knitrout}
 
ou  
 
\begin{knitrout}\footnotesize
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{> }\hlkwd{hist}\hlstd{(}\hlkwd{rnorm}\hlstd{(}\hlnum{1000}\hlstd{))}
\end{alltt}
\end{kframe}
\end{knitrout}
  

\section{Les pas suivants\dots}

  \subsection{Dans le futur}
  
  Apprenez à vous servir des projets\dots Ils permettent de travailler sur des projets
  différents en conservant l'interface (fenêtre, contenu mémoire,\dots) exactement
  comme vous l'avez laissé \emph{lors du dernier lancement de RStudio}.
  
  Outre la possibiité de produire des documents \LaTeX, il est également possible de faire des documents
  HTML ou RTF incluant une belle présentation et le code R à l'intérieur\dots
  
  Pour ceux qui sont intéressés RStudio est un outil de choix pour Sweave/knitr,
  le développement de paquets, le suivi de version avec git (ou svn), etc.
  

